(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e){e.exports=JSON.parse('{"a":"https://dosasm.github.io/dosrun"}')},144:function(e,t,n){},146:function(e,t,n){},44:function(e){e.exports=JSON.parse('{"a":[{"label":"MASM 5.00","description":"Microsoft Macro Assembler with MASM.exe 5.00 link.exe 3.60","baseBundle":"/bundles/MASM.jsdos","CodeLanguage":"asm6502","CodePath":"code/hello.asm","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm test.asm;","link test.obj;","test.exe"]},{"label":"debug","zh-cn":"\u4f7f\u7528debug\u8c03\u8bd5","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm test.asm;","link test.obj;","debug test.exe"]},{"label":"list","zh-cn":"\u751f\u6210lst\u6587\u4ef6","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm /la test.asm;"]}]},{"label":"TASM 4.1","description":"Borland\'s Turbo Assembler with tasm.exe 4.1 tlink.exe 7.1.30.1","baseBundle":"/bundles/TASM.jsdos","CodeLanguage":"asm6502","CodePath":"code/hello.asm","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm test.asm;","tlink test.obj;","test.exe"]},{"label":"debug","zh-cn":"\u4f7f\u7528TD\u8c03\u8bd5","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm /zi test.asm","tlink /v/3 test.obj","TD test.exe"]},{"label":"list","zh-cn":"\u751f\u6210lst\u6587\u4ef6","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm /la test.asm;"]}]},{"label":"Turbo C 2.0(T)","description":"Turbo C 2.0 Compile code in Text Mode. From Gabriel Ortiz(gabrielortizamador@gmail.com)","baseBundle":"/bundles/TurboC.jsdos","CodeLanguage":"C","CodePath":"Code/Text.c","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.c","command":["mount c ./","mount d ./test/","d:","set PATH=C:\\\\TC;%PATH%","tcc Text.c","tcc -Ic:\\\\tc\\\\ -Lc:\\\\tc\\\\ d:test","test.exe"]}]},{"label":"Turbo C 2.0(G)","description":"Turbo C 2.0 Compile code in Graph Mode. From Gabriel Ortiz(gabrielortizamador@gmail.com)","baseBundle":"/bundles/TurboC.jsdos","CodeLanguage":"C","CodePath":"Code/Graphic.c","actions":[{"label":"run","zh-cn":"\u4f7f\u7528TD\u8c03\u8bd5","CodeDestination":"test/test.c","command":["mount c ./","mount d ./test/","set PATH=C:\\\\TC;%PATH%","d:","tcc -Ic:\\\\tc\\\\ -Lc:\\\\tc\\\\ d:\\\\test c:\\\\tc\\\\graphics.lib","test.exe"]}]}]}')},490:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(9),c=n.n(o),i=(n(144),n(15)),r=n.n(i),l=n(32),u=n(33),d=n(44),b=(n(146),n(6)),m=null;function h(e){var t=Object(a.useRef)(null),n=Object(a.useState)(null),s=Object(u.a)(n,2),o=s[0],c=s[1];return Object(a.useEffect)((function(){if(null!==t&&null!==t.current){var e=t.current,n=emulatorsUi.dom.layers(e);return c(n),n.showLoadingLayer(),function(){m&&m.exit()}}}),[t]),Object(a.useEffect)((function(){return null!==o&&emulators.dosboxWorker(e.bundle).then((function(e){m=e,o.hideLoadingLayer(),emulatorsUi.graphics.webGl(o,m),emulatorsUi.controls.keyboard(o,m,{})})),function(){m&&m.exit()}}),[o,e.bundle]),Object(b.jsx)("div",{ref:t,style:{width:"100%",height:"100%"}})}var j,f=n(520),p=n(524),x=n(527),g=n(526),C=n(528),O=n(525),v=n(491),T=n(134),y=n(126),A=n(127),P=n(47),k=n.n(P),z=n(128),w=function(){function e(){Object(y.a)(this,e),this.zip=new k.a,this.zip=new k.a,this.zip.file(".jsdos/dosbox.conf","[AUTOEXEC]")}return Object(A.a)(e,[{key:"download",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(z.a+t);case 2:if(200!==(n=e.sent).status&&0!==n.status){e.next=11;break}return e.next=6,n.blob();case 6:return a=e.sent,e.next=9,k.a.loadAsync(a);case 9:return this.zip=e.sent,e.abrupt("return",this.zip);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBundle",value:function(){var e=Object(l.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zip){e.next=8;break}return a=this.zip,t&&a.file(".jsdos/dosbox.conf","[AUTOEXEC]\n"+t.join("\n")),n&&a.file(n.path,n.text),e.next=6,a.generateAsync({type:"uint8array"});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zip){e.next=2;break}return e.abrupt("return",null===(n=this.zip.file(t))||void 0===n?void 0:n.async("string"));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e[e.singleFile=0]="singleFile",e[e.interactive=1]="interactive"}(j||(j={}));var F=new w;var M=function(){var e=Object(a.useState)(j.singleFile),t=Object(u.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)(0),c=Object(u.a)(o,2),i=c[0],m=c[1],y=d.a[i],A=y.CodeLanguage,P=Object(a.useState)(""),k=Object(u.a)(P,2),z=k[0],w=k[1],M=Object(a.useState)(void 0),H=Object(u.a)(M,2),S=H[0],D=H[1];Object(a.useEffect)((function(){F.download(d.a[i].baseBundle).then((function(){F.readFile(d.a[i].CodePath).then((function(e){e&&w(e)})),F.getBundle().then((function(e){return D(e)}))}))}),[i]);var L=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.actions[t],e.next=3,F.getBundle(n.command,{path:n.CodeDestination,text:z});case 3:(a=e.sent)&&D(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(f.a,{container:!0,spacing:3,children:[Object(b.jsxs)(f.a,{item:!0,xs:12,className:"Control",children:[Object(b.jsxs)("div",{style:{float:"left"},children:[Object(b.jsxs)(p.a,{children:[Object(b.jsx)(x.a,{id:"select-jsdos-bundle-label",children:"environment"}),Object(b.jsx)(g.a,{labelId:"select-jsdos-bundle",id:"select-bundle",value:i,onChange:function(e){m(e.target.value)},children:d.a.map((function(e,t){return Object(b.jsx)(C.a,{value:t,children:e.label},e.label)}))})]}),Object(b.jsxs)(p.a,{children:[Object(b.jsx)(x.a,{id:"select-mode-label",children:"Mode"}),Object(b.jsxs)(g.a,{id:"select-mode",value:n,onChange:function(e){s(e.target.value)},children:[Object(b.jsx)(C.a,{value:j.singleFile,children:"singleFile"}),Object(b.jsx)(C.a,{value:j.interactive,children:"interactive"})]})]})]}),Object(b.jsx)("div",{style:{float:"right"},children:Object(b.jsxs)(O.a,{color:"primary","aria-label":"outlined primary button group",children:[d.a[i].actions.map((function(e,t){return Object(b.jsx)(v.a,{onClick:function(e){L(t)},children:e.label},e.label)})),Object(b.jsx)(v.a,{onClick:function(e){w("")},children:"clean"},"clean-editor-code")]})})]}),Object(b.jsx)(f.a,{item:!0,xs:6,className:"Dosbox",children:Object(b.jsx)("div",{style:{alignContent:"center"},children:void 0!==S?Object(b.jsx)(h,{bundle:S}):Object(b.jsx)(b.Fragment,{})})}),Object(b.jsx)(f.a,{item:!0,xs:6,className:"Editor",children:Object(b.jsx)(T.a,{autoFocus:!0,value:z,language:A,placeholder:"Please enter your code.",onChange:function(e){return w(e.target.value)},minHeight:80,padding:15,style:{fontSize:12,backgroundColor:"#f5f5f5",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,530)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),H()}},[[490,1,2]]]);
//# sourceMappingURL=main.a1f6d661.chunk.js.map