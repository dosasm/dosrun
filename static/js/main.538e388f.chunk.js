(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e){e.exports=JSON.parse('{"a":"https://dosasm.github.io/dosrun"}')},145:function(e,t,n){},147:function(e,t,n){},46:function(e){e.exports=JSON.parse('{"a":[{"label":"MASM 5.00","description":"Microsoft Macro Assembler with MASM.exe 5.00 link.exe 3.60","baseBundle":"/bundles/MASM.jsdos","CodeLanguage":"asm6502","CodePath":"code/hello.asm","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm test.asm;","link test.obj;","test.exe"]},{"label":"debug","zh-cn":"\u4f7f\u7528debug\u8c03\u8bd5","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm test.asm;","link test.obj;","debug test.exe"]},{"label":"list","zh-cn":"\u751f\u6210lst\u6587\u4ef6","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\masm;%PATH%","d:","masm /la test.asm;"]}]},{"label":"TASM 4.1","description":"Borland\'s Turbo Assembler with tasm.exe 4.1 tlink.exe 7.1.30.1","baseBundle":"/bundles/TASM.jsdos","CodeLanguage":"asm6502","CodePath":"code/hello.asm","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm test.asm;","tlink test.obj;","test.exe"]},{"label":"debug","zh-cn":"\u4f7f\u7528TD\u8c03\u8bd5","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm /zi test.asm","tlink /v/3 test.obj","TD test.exe"]},{"label":"list","zh-cn":"\u751f\u6210lst\u6587\u4ef6","CodeDestination":"test/test.asm","command":["mount c ./","mount d ./test/","set PATH=C:\\\\tasm;%PATH%","d:","tasm /la test.asm;"]}]},{"label":"Turbo C 2.0(T)","description":"Turbo C 2.0 Compile code in Text Mode. From Gabriel Ortiz(gabrielortizamador@gmail.com)","baseBundle":"/bundles/TurboC.jsdos","CodeLanguage":"C","CodePath":"Code/Text.c","actions":[{"label":"run","zh-cn":"\u8fd0\u884c\u4ee3\u7801","CodeDestination":"test/test.c","command":["mount c ./","mount d ./test/","d:","set PATH=C:\\\\TC;%PATH%","tcc Text.c","tcc -Ic:\\\\tc\\\\ -Lc:\\\\tc\\\\ d:test","test.exe"]}]},{"label":"Turbo C 2.0(G)","description":"Turbo C 2.0 Compile code in Graph Mode. From Gabriel Ortiz(gabrielortizamador@gmail.com)","baseBundle":"/bundles/TurboC.jsdos","CodeLanguage":"C","CodePath":"Code/Graphic.c","actions":[{"label":"run","zh-cn":"\u4f7f\u7528TD\u8c03\u8bd5","CodeDestination":"test/test.c","command":["mount c ./","mount d ./test/","set PATH=C:\\\\TC;%PATH%","d:","tcc -Ic:\\\\tc\\\\ -Lc:\\\\tc\\\\ d:\\\\test c:\\\\tc\\\\graphics.lib","test.exe"]}]}]}')},491:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(9),i=n.n(o),c=(n(145),n(15)),r=n.n(c),u=n(32),l=n(43),d=n(46),b=(n(147),n(6)),m=null;function f(e){var t=Object(a.useRef)(null),n=Object(a.useState)(null),s=Object(l.a)(n,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){if(null!==t&&null!==t.current){var e=t.current,n=emulatorsUi.dom.layers(e);return i(n),n.showLoadingLayer(),function(){m&&m.exit()}}}),[t]),Object(a.useEffect)((function(){return null!==o&&emulators.dosboxWorker(e.bundle).then((function(e){m=e,o.hideLoadingLayer(),emulatorsUi.graphics.webGl(o,m),emulatorsUi.controls.mouse(o,m),emulatorsUi.sound.audioNode(m),emulatorsUi.controls.options(o,["default"],(function(){}),54,13.5,0)})),function(){m&&m.exit()}}),[o,e.bundle]),Object(b.jsx)("div",{ref:t,tabIndex:0,onBlur:function(e){if(o&&m){emulatorsUi.controls.keyboard(o,{sendKeyEvent:function(){}},{})}},onFocus:function(e){o&&m&&emulatorsUi.controls.keyboard(o,m,{})}})}var h=n(524),j=n(527),p=n(526),x=n(528),C=n(525),g=n(134),O=n(126),v=n(127),T=n(47),y=n.n(T),A=n(128),k=function(){function e(){Object(O.a)(this,e),this.zip=new y.a,this.zip=new y.a,this.zip.file(".jsdos/dosbox.conf","[AUTOEXEC]")}return Object(v.a)(e,[{key:"download",value:function(){var e=Object(u.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A.a+t);case 2:if(200!==(n=e.sent).status&&0!==n.status){e.next=11;break}return e.next=6,n.blob();case 6:return a=e.sent,e.next=9,y.a.loadAsync(a);case 9:return this.zip=e.sent,e.abrupt("return",this.zip);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBundle",value:function(){var e=Object(u.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zip){e.next=8;break}return a=this.zip,t&&a.file(".jsdos/dosbox.conf","[AUTOEXEC]\n"+t.join("\n")),n&&a.file(n.path,n.text),e.next=6,a.generateAsync({type:"uint8array"});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=Object(u.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zip){e.next=2;break}return e.abrupt("return",null===(n=this.zip.file(t))||void 0===n?void 0:n.async("string"));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var P=n(492),z=n(523);function w(e){var t=e.baseOptions,n=e.options,a=e.onClick,s=t.map((function(e,t){return Object(b.jsx)(P.a,{onClick:function(e){a(-1*t)},children:e},"baseOptions-"+e)})),o=n.map((function(e,t){return Object(b.jsx)(P.a,{onClick:function(e){a(t)},children:e},"options"+e)}));return Object(b.jsx)("div",{style:{float:"right"},children:Object(b.jsxs)(z.a,{color:"default",variant:"outlined","aria-label":"outlined primary button group",children:[o,s]})})}var H=new k;var M=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],s=t[1],o=d.a[n],i=o.CodeLanguage,c=Object(a.useState)(""),m=Object(l.a)(c,2),O=m[0],v=m[1],T=Object(a.useState)(void 0),y=Object(l.a)(T,2),A=y[0],k=y[1];Object(a.useEffect)((function(){H.download(d.a[n].baseBundle).then((function(){H.readFile(d.a[n].CodePath).then((function(e){e&&v(e)})),H.getBundle().then((function(e){return k(e)}))}))}),[n]);var P=function(){var e=Object(u.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.actions[t],e.next=3,H.getBundle(n.command,{path:n.CodeDestination,text:O});case 3:(a=e.sent)&&k(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=window.screen,M=z.height,S=z.width;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(C.a,{container:!0,spacing:3,children:[Object(b.jsxs)(C.a,{item:!0,xs:12,className:"Control",children:[Object(b.jsx)("div",{style:{float:"left"},children:Object(b.jsxs)(h.a,{children:[Object(b.jsx)(j.a,{id:"select-jsdos-bundle-label",children:"environment"}),Object(b.jsx)(p.a,{labelId:"select-jsdos-bundle",id:"select-bundle",value:n,onChange:function(e){s(e.target.value)},children:d.a.map((function(e,t){return Object(b.jsx)(x.a,{value:t,children:e.label},e.label)}))})]})}),Object(b.jsx)("div",{style:{float:"right"},children:Object(b.jsx)(w,{baseOptions:["clean"],options:o.actions.map((function(e){return e.label})),onClick:function(e){return e<0?v(""):P(e)}})})]}),Object(b.jsx)(C.a,{item:!0,xs:M>S?12:6,className:"Dosbox",children:Object(b.jsx)("div",{style:{alignContent:"center"},children:void 0!==A?Object(b.jsx)(f,{bundle:A}):Object(b.jsx)(b.Fragment,{})})}),Object(b.jsx)(C.a,{item:!0,xs:M>S?12:6,className:"Editor",children:Object(b.jsx)(g.a,{autoFocus:!0,value:O,language:i,placeholder:"Please enter your code.",onChange:function(e){return v(e.target.value)},minHeight:80,padding:15,style:{fontSize:12,backgroundColor:"#f5f5f5",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,530)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),o(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),S()}},[[491,1,2]]]);
//# sourceMappingURL=main.538e388f.chunk.js.map